(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[255],{2175:function(e,t,a){"use strict";a.r(t),a.d(t,"AddStockAdjustment",(function(){return x}));var n=a(53),l=a.n(n),c=a(83),r=a(28),o=a(37),s=a(13),u=a(14),m=a(16),d=a(15),i=a(0),h=a.n(i),p=a(578),g=a(138),E=a(56),v=a(135),b=a(579),y=a(580),f=a(74),G=a(86),j=a(577),q=a(73),k=a(21),C=a(82),x=(a(187),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).changeHandlerG=function(e,t){var a=n.state[e.target.name];console.log(a),a[t]=e.target.value,n.setState(Object(o.a)({},e.target.name,a))},n.submitHandler=function(e){e.preventDefault();for(var t=[],a=0;a<n.state.productG.length;a++)t.push({productname:n.state.productG[a],availableqty:n.state.availableqtyG[a],qty:n.state.qtyG[a],value:n.state.valueG[a],comment:n.state.commentG[a]});var l=n.state;l.product=t,console.log("Option",l),C.a.post("/addstockadjustment",l,{headers:{"auth-adtoken":localStorage.getItem("auth-adtoken")}}).then((function(e){console.log(e),n.props.history.push("/app/stockControl/stockAdjustment")})).catch((function(e){console.log(e.response)}))},n.changeHandler=function(e){n.setState(Object(o.a)({},e.target.name,e.target.value))},n.state={addTextbox:[{}],reference_no:"",adjustment_date:"",warehouse:"",adjusted_qty:"",adjusted_value:"",reason:"",grandTotal:"",productC:[],productG:[""],availableqtyG:[""],qtyG:[""],commentG:[""],valueG:[""]},n}return Object(u.a)(a,[{key:"addControls",value:function(){this.setState({productG:[].concat(Object(r.a)(this.state.productG),[""]),availableqtyG:[].concat(Object(r.a)(this.state.availableqtyG),[""]),qtyG:[].concat(Object(r.a)(this.state.qtyG),[""]),commentG:[].concat(Object(r.a)(this.state.commentG),[""]),valueG:[].concat(Object(r.a)(this.state.valueG),[""]),addTextbox:[].concat(Object(r.a)(this.state.addTextbox),[""])})}},{key:"delControl",value:function(e){console.log(this.state),this.state.addTextbox.splice(e,1),this.state.productG.splice(e,1),this.state.availableqtyG.splice(e,1),this.state.qtyG.splice(e,1),this.state.commentG.splice(e,1),this.state.valueG.splice(e,1),this.setState({})}},{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.a.get("/getwarehouse",{headers:{"auth-adtoken":localStorage.getItem("auth-adtoken")}}).then((function(e){console.log(e),t.setState({warehouseL:e.data.data})})).catch((function(e){console.log(e)})),C.a.get("/getReason",{headers:{"auth-adtoken":localStorage.getItem("auth-adtoken")}}).then((function(e){console.log(e),t.setState({reasonL:e.data.data})})).catch((function(e){console.log(e)})),C.a.get("/productbysellerbytoken",{headers:{"auth-adtoken":localStorage.getItem("auth-adtoken")}}).then((function(e){console.log(e.data.data),t.setState({productC:e.data.data})})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=this;return h.a.createElement("div",null,h.a.createElement(p.a,null,h.a.createElement(g.a,{className:"m-2"},h.a.createElement(E.a,null,h.a.createElement("h1",{"col-sm-6":!0,className:"float-left"},"Add New Stock Adjustment")),h.a.createElement(E.a,null,h.a.createElement(v.a,{className:" btn btn-danger float-right",onClick:function(){return k.a.push("/app/stockControl/stockAdjustment")}},"Back"))),h.a.createElement(b.a,null,h.a.createElement(y.a,{className:"m-1",onSubmit:this.submitHandler},h.a.createElement(g.a,{className:"mb-2"},h.a.createElement(E.a,{lg:"6",md:"6"},h.a.createElement(f.a,null,"Referance Number"),h.a.createElement(G.a,{required:!0,type:"number",name:"reference_no",value:this.state.reference_no,onChange:this.changeHandler})),h.a.createElement(E.a,{lg:"6",md:"6",className:"mb-1"},h.a.createElement(f.a,null,"Warehouse"),h.a.createElement(j.a,{required:!0,type:"select",name:"warehouse",value:this.state.warehouse,onChange:this.changeHandler},null===(e=this.state.warehouseL)||void 0===e?void 0:e.map((function(e){return h.a.createElement("option",{key:e._id,value:e._id},e.warehousename)})))),h.a.createElement(E.a,{lg:"6",md:"6",className:"mb-1"},h.a.createElement(f.a,null,"Adjustment Date"),h.a.createElement(G.a,{required:!0,type:"date",name:"adjustment_date",value:this.state.adjustment_date,onChange:this.changeHandler})),h.a.createElement(E.a,{lg:"6",md:"6",className:"mb-1"},h.a.createElement(f.a,null,"Adjustment Qty"),h.a.createElement(G.a,{required:!0,type:"text",name:"adjusted_qty",value:this.state.adjusted_qty,onChange:this.changeHandler})),h.a.createElement(E.a,{lg:"6",md:"6",className:"mb-1"},h.a.createElement(f.a,null,"Adjustment Value"),h.a.createElement(G.a,{required:!0,type:"text",name:"adjusted_value",value:this.state.adjusted_value,onChange:this.changeHandler})),h.a.createElement(E.a,{lg:"6",md:"6",className:"mb-1"},h.a.createElement(f.a,null,"Reason"),h.a.createElement(j.a,{required:!0,type:"select",name:"reason",value:this.state.reason,onChange:this.changeHandler},null===(t=this.state.reasonL)||void 0===t?void 0:t.map((function(e){return h.a.createElement("option",{key:e._id,value:e._id},e.reason)}))))),h.a.createElement(g.a,null,h.a.createElement("div",null,this.state.addTextbox.map((function(e,t){var n;return h.a.createElement("div",null,h.a.createElement(g.a,null,h.a.createElement(E.a,{md:"2",sm:"12"},h.a.createElement(q.a,null,h.a.createElement(f.a,null," Product Name "),h.a.createElement(j.a,{required:!0,type:"select",name:"productG",placeholder:" Product Name",value:a.state.productG[t],onChange:function(e){a.changeHandlerG(e,t)}},h.a.createElement("option",null,"Select Product"),null===(n=a.state.productC)||void 0===n?void 0:n.map((function(e){return h.a.createElement("option",{key:e._id,value:e._id},e.product_name)}))))),h.a.createElement(E.a,{md:"2",sm:"12"},h.a.createElement(q.a,null,h.a.createElement(f.a,null," Available Qty "),h.a.createElement(G.a,{required:!0,type:"number",name:"availableqtyG",placeholder:"Available Qty",value:a.state.availableqtyG[t],onChange:function(e){a.changeHandlerG(e,t)}}))),h.a.createElement(E.a,{md:"2",sm:"12"},h.a.createElement(q.a,null,h.a.createElement(f.a,null," Quantity "),h.a.createElement(G.a,{required:!0,type:"number",rows:"5",name:"qtyG",placeholder:"QTY",value:a.state.qtyG[t],onChange:function(e){a.changeHandlerG(e,t)}}))),h.a.createElement(E.a,{md:"1",sm:"12"},h.a.createElement(q.a,null,h.a.createElement(f.a,null," Value "),h.a.createElement(G.a,{required:!0,type:"text",rows:"5",name:"valueG",placeholder:"Value",value:a.state.valueG[t],onChange:function(e){a.changeHandlerG(e,t)}}))),h.a.createElement(E.a,{md:"2",sm:"12"},h.a.createElement(q.a,null,h.a.createElement(f.a,null," Comment "),h.a.createElement(G.a,{required:!0,type:"text",rows:"5",name:"commentG",placeholder:"Comment",value:a.state.commentG[t],onChange:function(e){a.changeHandlerG(e,t)}}))),h.a.createElement(E.a,{md:"1",sm:"6",className:"p-1 ml-4  d-flex justify-content-end"},h.a.createElement(v.a,{className:"ml-1",color:"danger",onClick:function(){return a.delControl(t)}},"Remove"))))})))),h.a.createElement("div",{id:"btn"},h.a.createElement(g.a,null,h.a.createElement(E.a,{lg:"12",md:"12",sm:"12",className:"mb-2 d-flex align-items-sm-end justify-content-end"},h.a.createElement(v.a,{color:"primary",onClick:function(){return a.addControls()}},"Add")))),h.a.createElement(g.a,{className:"d-flex justify-content-end"},h.a.createElement(E.a,{lg:"4"},h.a.createElement(q.a,null,h.a.createElement(f.a,null,"Grand Total"),h.a.createElement(G.a,{required:!0,type:"number",name:"grandTotal",placeholder:"Grand Total",value:this.state.grandTotal,onChange:this.changeHandler})))),h.a.createElement(g.a,null,h.a.createElement(v.a,{color:"danger",type:"submit",className:"mr-1 mb-1"},"Submit"))))))}}]),a}(i.Component));t.default=x}}]);
//# sourceMappingURL=255.ed716e72.chunk.js.map